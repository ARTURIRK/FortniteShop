{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","reducer.js","context.js","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","id","href","target","rel","Footer","Date","getFullYear","Preloader","reducer","state","type","payload","goods","loading","alertName","order","filter","item","mainId","isBasketShow","itemIndex","findIndex","elem","newOrder","newItem","quantity","map","i","name","newQ","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","removeFromBasket","itemId","handleBasketShow","addOrder","increaseQuantity","degreaseQuantity","setGoods","data","Provider","GoodsItem","props","displayName","displayDescription","finalPrice","price","full_background","displayAssets","useContext","src","alt","onClick","GoodsList","length","e","Cart","Function","prototype","BasketItem","BasketList","totalPrice","reduce","acc","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","process","then","response","json","shop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c6446cf.chunk.js","sourcesContent":["function Header(){\n  return  <nav className=' container purple darken-3 '>\n  <div className=\"nav-wrapper\">\n    <span className=\"brand-logo\">React Fortnite Shop</span>\n    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n      <li><a href=\"https://github.com/ARTURIRK/FortniteShop\" target='_blank' rel=\"noreferrer\">Repo</a></li>\n    </ul>\n  </div>\n</nav>\n}\n\nexport {Header}","function Footer(){\n  return <footer className=\"page-footer purple darken-3\">\n  <div className=\"footer-copyright purple darken-3\">\n    <div className=\"container\">\n    © {new Date().getFullYear()} Copyright Text\n    <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/ARTURIRK\" target='_blank' rel='noreferrer'>More Links</a>\n    </div>\n  </div>\n</footer>\n}\nexport {Footer}","function Preloader(){\n  return  <div className=\"preloader-wrapper big active\">\n  <div className=\"spinner-layer spinner-blue-only\">\n    <div className=\"circle-clipper left\">\n      <div className=\"circle\"></div>\n    </div><div className=\"gap-patch\">\n      <div className=\"circle\"></div>\n    </div><div className=\"circle-clipper right\">\n      <div className=\"circle\"></div>\n    </div>\n  </div>\n</div>\n}\nexport {Preloader}","export function reducer(state, {type,payload}) {\n  switch(type) {\n    case 'SET_GOODS':\n      return {\n        ...state,\n        goods: payload || [],\n        loading: false,\n      }\n    case \"CLOSE_ALERT\":\n      return {\n        ...state,\n        alertName: '',\n      }\n    case 'REMOVE_FROM_BASKET':\n       return {\n         ...state,\n         order: state.order.filter((item) => item.mainId !== payload.id)\n       }\n    case 'HANDLE_BASKET_SHOW':\n        return {\n          ...state,\n          isBasketShow: !state.isBasketShow,\n        }\n    case 'ADD_ORDER':\n        let itemIndex = state.order.findIndex(elem=> elem.mainId === payload.mainId)\n        let newOrder = null;\n        if(itemIndex<0){\n          const newItem = {\n            ...payload,\n            quantity: 1,\n           };\n          newOrder = [...state.order, newItem]\n        } else{\n            newOrder = state.order.map((elem, i)=> {\n              if(i === itemIndex){\n                return {\n                  ...elem,\n                  quantity: elem.quantity+1\n                }\n              }\n              else{\n                return elem;\n               }\n            })\n        }\n        return {\n          ...state,\n          order: newOrder,\n          alertName: payload.name,\n        }\n    case 'INCREMENT_QUANTITY':\n        return{\n          ...state,\n          order: state.order.map((item) => {\n            if(item.mainId === payload.id){\n              const newQ = item.quantity +1;\n              return {\n                ...item,\n                quantity: newQ,\n              }\n            }\n            else{\n              return item\n            }\n          })\n        }\n    case 'DEGREASE_QUANTITY':\n        return {\n          ...state,\n          order: state.order.map((item) => {\n            if(item.mainId === payload.id){\n              const newQ = item.quantity -1;\n              return {\n                ...item,\n                quantity: newQ>0 ? newQ : 0,\n              }\n            }\n            else{\n              return item\n            }\n          })\n        }\n    default:\n      return state;\n  }\n}","import { createContext, useReducer } from \"react\";\nimport {reducer} from './reducer'\nexport const ShopContext = createContext();\n\nconst initialState = {\n  goods: [],\n  loading: true,\n  order: [],\n  isBasketShow: false,\n  alertName: '',\n}\n\n\nexport const ContextProvider = ({children}) => {\n  const [value, dispatch] = useReducer(reducer, initialState)\n  value.closeAlert = () => {\n    dispatch({type:'CLOSE_ALERT'})\n  }\n  value.removeFromBasket = (itemId) => {\n    dispatch({type: 'REMOVE_FROM_BASKET', payload: {id: itemId}})\n  }\n  value.handleBasketShow = () => {\n    dispatch({type: 'HANDLE_BASKET_SHOW'})\n  }\n  value.addOrder = (item) => {\n    dispatch({type:'ADD_ORDER', payload: item})\n  }\n  value.increaseQuantity = (itemId) => {\n    dispatch({type: 'INCREMENT_QUANTITY', payload: {id: itemId}})\n  }\n  value.degreaseQuantity = (itemId) =>{\n    dispatch({type: 'DEGREASE_QUANTITY', payload: {id: itemId}})\n  }\n  value.setGoods = (data) => {\n    dispatch({type: 'SET_GOODS', payload: data})\n  }\n\n  return <ShopContext.Provider value={value}>\n      {children}\n  </ShopContext.Provider>\n}","import { useContext } from \"react\";\nimport {ShopContext} from '../context';\n\nexport function GoodsItem(props) {\n  const {\n    mainId,\n    displayName,\n    displayDescription,\n    price: {finalPrice},\n    displayAssets: [{full_background}],\n  } = props\n\n  const { addOrder } = useContext(ShopContext);\n  return (\n        <div className=\"card\">\n          <div className=\"card-image\">\n            <img src={full_background} alt={displayName} />\n          </div>\n          <span className=\"card-title\">{displayName}</span>\n          <div className=\"card-content\">\n            <p>{displayDescription || 'Топ за свои деньги'}</p>\n          </div>\n      <div className=\"card-action\">\n          <button className='btn' onClick={() => addOrder({\n            mainId,\n            displayName,\n            finalPrice,\n          })}>\n            Купить\n          </button>\n          <span className='right'>{finalPrice} руб.</span>\n        </div>\n    </div>\n)\n}\n","import {GoodsItem} from './GoodsItem'\nimport {useContext} from 'react'\nimport {ShopContext} from '../context'\n\n\nexport function GoodsList() {\n  const {goods=[]} = useContext(ShopContext)\n\n  if(!goods.length){\n    return <h3>No Items</h3>\n  }\n\n  return (\n    <div className='goods'>\n      {goods.map((e) =>\n        <GoodsItem  key={e.mainId} {...e}/>\n      )}\n    </div>\n  )\n}","import {ShopContext} from '../context'\nimport { useContext } from 'react';\nexport function Cart(){\n  const {order, handleBasketShow = Function.prototype} = useContext(ShopContext);\n  const quantity = order.length\n  return (\n    <div className='cart purple darken-2 white-text' onClick={handleBasketShow}>\n      <i className='material-icons'>shopping_cart</i>\n      {quantity ? <span className='cart-quantity'>{quantity}</span> :null}\n    </div>\n  )\n}","import { useContext } from \"react\"\nimport {ShopContext} from '../context'\n\n\nexport function BasketItem(props){\n  const {\n    mainId,\n    displayName,\n    finalPrice,\n    quantity,\n  } = props\n\n  const {removeFromBasket, increaseQuantity,degreaseQuantity} = useContext(ShopContext);\n\n\n\n  return  <li  className=\"collection-item\">\n      <span>{displayName}</span>\n      <i\n        className='material-icons pros'\n        onClick={() => degreaseQuantity(mainId)}\n      >remove\n      </i>\n      {quantity}\n      <i\n        className='material-icons'\n        onClick={() => increaseQuantity(mainId)}\n      >add\n      </i> = {finalPrice*quantity}\n      <span className='secondary-content'>\n      <i\n        className='material-icons basket-delete'\n        onClick={() => removeFromBasket(mainId)}\n        >\n          close</i>\n    </span>\n    </li>\n}\n","import {BasketItem} from './BasketItem'\nimport { useContext } from \"react\"\nimport {ShopContext} from '../context'\n\nexport function BasketList() {\n  const {\n    order=[],\n    handleBasketShow=Function.prototype,\n  } = useContext(ShopContext);\n\n\n  const totalPrice = order.reduce((acc, elem)=>\n    acc += elem.finalPrice*elem.quantity,0)\n\n  return <ul className=\"collection basket-list\">\n    <li  className=\"collection-item active\">Корзина</li>\n    {\n      order.length ? order.map((item) =>\n       <BasketItem\n        key={item.mainId}\n        {...item}\n        />)\n        :\n         (<li className='collection-item'>Корзина пуста</li>)\n    }\n    <li className=\"collection-item active\">\n      Общая стоимость {totalPrice}\n    </li>\n    <li className=\"collection-item \">\n      <button className='btn offer'>Оформить</button>\n    </li>\n    <i className='material-icons close-basket ' onClick={handleBasketShow}> close</i>\n  </ul>\n}","import { useEffect, useContext } from \"react\"\nimport {ShopContext} from '../context'\nexport function Alert(){\n  const {\n    alertName:name='',\n    closeAlert=Function.prototype\n  } = useContext(ShopContext)\n    useEffect(()=>{\n      const timerId = setTimeout(closeAlert,3000);\n      return () => {\n        clearTimeout(timerId);\n      }\n// eslint-disable-next-line\n    },[name])\n  return <div id=\"toast-container\">\n    <div className=\"toast\">{name} добавлен в корзину</div>\n  </div>\n}","import {useEffect, useContext} from 'react'\nimport {API_KEY, API_URL} from '../config'\nimport { Preloader } from './Preloader'\nimport { GoodsList } from './GoodsList'\nimport { Cart } from './Cart'\nimport {BasketList} from './BasketList'\nimport {Alert} from './Alert'\nimport {ShopContext} from '../context'\n\nfunction Shop(){\n  const {setGoods, loading,isBasketShow,alertName} = useContext(ShopContext);\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        'Authorization': API_KEY,\n      },\n    }).then(response => response.json())\n      .then(data => {\n      setGoods(data.shop)\n    })\n    // eslint-disable-next-line\n  },[])\n\n  return <main className='container content'>\n    <Cart/>\n    {\n      loading ? <Preloader />: <GoodsList/>\n    }\n    {\n      isBasketShow && <BasketList />\n    }\n    {\n      alertName && <Alert/>\n    }\n  </main>\n}\nexport {Shop}","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\nexport  {\n  API_KEY,\n  API_URL\n}","import './App.css';\nimport {Header} from './components/Header';\nimport {Footer} from './components/Footer';\nimport { Shop } from './components/Shop';\nimport {ContextProvider} from './context'\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}